# Themes ã®ä½œã‚Šæ–¹ {.cover}
è‰¯ã‘ã‚Œã°ä¸€ç·’ã«æ‰‹ã‚’å‹•ã‹ã—ã¾ã—ã‚‡ã† ğŸ’»

https://github.com/yamasy1549/vivliostyle-theme-my-doujin

# ã“ã®ãƒãƒ³ã‚ºã‚ªãƒ³ã®è¨­å®š

- ã€Œè¤‡æ•°äººã®æ›¸ãæ‰‹ã«ã‚ˆã‚‹å°èª¬åˆåŒèªŒã€ã‚’ä½œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸğŸ“–
- 1äºº1ç« åˆ†=1ã¤ã®åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ« (.md) ã‚’æ‹…å½“
- å…¨ä½“ã‚’é€šã—ãŸ**ãƒšãƒ¼ã‚¸ç•ªå·**ã€**ç« ç•ªå·**ãŒã»ã—ã„
- **ç›®æ¬¡**ãŒã»ã—ã„
- è¦‹ãŸç›®ã¯çµ±ä¸€ã™ã‚‹ãŒã€**æ›¸ãæ‰‹ã«ã‚ˆã£ã¦ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å¤‰ãˆãŸã„**

# â‘ é››å½¢ã‹ã‚‰ä½œã‚Šã¾ã™

`yarn create vivliostyle-theme my-doujin`

```shell
$ yarn create vivliostyle-theme my-doujin
? description ã™ã”ã„åˆåŒèªŒã®Theme
? author name ã‚ãŸã—
? author email watashi@example.com
? license AGPL-3.0
? choose category novel

Success! Created vivliostyle-theme-my-doujin.

1. cd vivliostyle-theme-my-doujin
2. edit scss/*.scss
3. publish to npm ($ npm publish)

âœ¨  Done in 46.57s.
```

# â‘ é››å½¢ã‹ã‚‰ä½œã‚Šã¾ã™

```shell
$ cd vivliostyle-theme-my-doujin
$ tree . -I node_modules
.
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ example                  ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿
â”‚Â Â  â”œâ”€â”€ default.html
â”‚Â Â  â””â”€â”€ default.md           ğŸ–‹Markdownã‚’æ›¸ã
â”œâ”€â”€ package.json
â”œâ”€â”€ scss                     ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§3ã¤ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â”‚Â Â  â”œâ”€â”€ theme_common.scss    ğŸ–‹ Themeã®å…±é€šéƒ¨åˆ†
â”‚Â Â  â”œâ”€â”€ theme_print.scss     ğŸ–‹ å‡ºç‰ˆç‰© (PDF) å°åˆ·ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
â”‚Â Â  â””â”€â”€ theme_screen.scss    ğŸ–‹ å‡ºç‰ˆç‰© (HTML) é–²è¦§ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ vivliostyle.config.js    ğŸ–‹ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ yarn.lock
```

# â‘¡ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’ç”¨æ„ã—ã¾ã™

<div class="center">
<div>

```markdown:example/ch01.md
# {å¾è¼©|ã‚ãŒã¯ã„}ã¯çŒ«ã§ã‚ã‚‹ã€‚
## å¤ç›® æ¼±çŸ³
{å¾è¼©|ã‚ãŒã¯ã„}ã¯çŒ«ã§ã‚ã‚‹ã€‚åå‰ã¯ã¾ã ç„¡ã„ã€‚
```
```markdown:example/ch02.md
# ç¾…ç”Ÿé–€
## èŠ¥å· é¾ä¹‹ä»‹
ã‚ã‚‹æ—¥ã®æš®æ–¹ã®äº‹ã§ã‚ã‚‹ã€‚ä¸€äººã®{ä¸‹äºº|ã’ã«ã‚“}ãŒ
```

</div>

```javascript:vivliostyle.config.js
module.exports = {
  language: 'ja',
  theme: 'theme_print.css',
  entry: [
    'example/ch01.md',
    'example/ch02.md',
  ],
}
```

</div>

# â‘¢ `yarn dev` ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¾ã™

ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«

<img src="assets/preview1.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:80%" class="img_shade">

# â‘£ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·

<div class="center">
<div>

```css:scss/theme_{print,screen}.scss
/* ... */
@import "_my_style";
```

```css:scss/_my_style.scss
@page :first { counter-reset: p; }
@page { counter-increment: p; }

/* å°å£å´ã€ä¸Šã«ãƒšãƒ¼ã‚¸ç•ªå· */
@page :left {
  @top-left { content: counter(p); }
}
@page :right {
  @top-right { content: counter(p); }
}
```

</div>
<img src="assets/preview2.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>


# â‘£ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·

<div class="center">

```css:scss/_my_style.scss
/* ç« ç•ªå· */
@page :nth(1) {
  counter-increment: chapter p;
}

/* ç« ã‚¿ã‚¤ãƒˆãƒ« */
h1 {
  &::before {
    content: "ç¬¬ " counter(chapter) " ç« ";
    display: block;
  }
}
```

<img src="assets/preview3.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%">
</div>


# â‘£ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·

<div class="center">

```css:scss/_my_style.scss
/* ç« ã‚¿ã‚¤ãƒˆãƒ« */
h1 {
  border-top: 10pt solid black;
  &::before {
    content: "ç¬¬ " counter(chapter) " ç« ";
    display: block;
    font-size: 80%;
    margin: 10pt auto;
  }
}

/* è‘—è€…å */
h2 {
  text-align: right;
  border-bottom: 10pt solid black;
}
```

<img src="assets/preview4.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>

# â‘¤ ç›®æ¬¡

<div class="center">
<div>

```javascript:vivliostyle.config.js
module.exports = {
  // ...
  entry: [
    { rel: 'contents', theme: 'theme_toc.css' },
    // ...
  ],
  toc: true,
  tocTitle: "ç›®æ¬¡",
}
```

```css:scss/theme_toc.scss
@import "theme_common";
```

</div>

<img src="assets/preview5.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>


# â‘¤ ç›®æ¬¡

<div class="center">

```css:scss/theme_toc.scss
@import "theme_common";

/* ã„ã‚‰ãªã„ã¨ã“ã‚ã‚’æ¶ˆã™ */
@page :left {
  @top-left { content: ""; }
}
@page :right {
  @top-right { content: ""; }
}
h1 { display: none; }
h2 { text-indent: 0; }

nav ol {
  padding: 0;
  list-style: none;
}
```

<img src="assets/preview6.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>


# â‘¤ ç›®æ¬¡

<div class="center">

```css:scss/theme_toc.scss
nav ol {
  /* ... */
  li a {
    text-decoration: none;
    color: inherit;
    &::before {
      content: "ç¬¬ " target-counter(
                 attr(href url), chapter) " ç« ";
      margin-right: 1rem;
    }
    &::after {
      content: target-counter(attr(href url), p);
      float: right;
    }
  }
}
```

<img src="assets/preview7.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>


# â‘¥åŸç¨¿ã”ã¨ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼

<div class="center">
<div>

```javascript:vivliostyle.config.js
// ...
    {
      path: 'example/ch01.md',
      theme: 'theme_ch01.css',
    },
    {
      path: 'example/ch02.md',
      theme: 'theme_ch02.css',
    },
```

```css:scss/theme_ch01.scss
@import "theme_print";
h1, h2 { border-color: darkcyan; }
```

</div>
<img src="assets/preview8.png" alt="Vivliostyle Viewer ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢" style="width:40%" class="img_shade">
</div>
